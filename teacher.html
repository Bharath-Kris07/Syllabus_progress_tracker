<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Teacher Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    if (localStorage.getItem("userRole") !== "teacher") {
      window.location.href = "index.html";
    }
  </script>


  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f4f7;
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
    }

    select, label {
      display: block;
      width: 100%;
      margin-bottom: 20px;
      font-size: 16px;
    }

    .topic {
      margin: 10px 0;
      display: flex;
      align-items: center;
    }

    .topic input {
      margin-right: 10px;
    }

    .buttons {
      margin-top: 30px;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 10px;
    }

    button {
      padding: 10px 20px;
      background: #007BFF;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    button:hover {
      background: #0056b3;
    }

    .reset {
      background: #dc3545;
    }

    .reset:hover {
      background: #b02a37;
    }

    canvas {
      max-width: 100%;
      margin-top: 30px;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>Welcome, Teacher üë®‚Äçüè´</h2>

  <label for="subject">Select Subject:</label>
  <select id="subject" onchange="loadTopics()">
    <option value="mathematics">MATHEMATICS FOR COMPUTER AND INFORMATION SCIENCE-3</option>
    <option value="theory-of-computation">THEORY OF COMPUTATION</option>
    <option value="data-structures">DATA STRUCTURES AND ALGORITHMS</option>
    <option value="object-oriented-programming">OBJECT ORIENTED PROGRAMMING</option>
  </select>

  <div id="topicList"></div>
<div class="buttons">
  <button onclick="window.location.href='index.html'">‚Üê Back</button>
  <button onclick="saveProgress()">üíæ Save</button>
  <button class="reset" onclick="resetProgress()">Reset All</button>
  <button onclick="logout()">Logout</button>
</div>

  <canvas id="progressChart" width="400" height="400"></canvas>
</div>

<script>
  const syllabus = {
    "mathematics": "Random variables, Discrete random variables and their probability distributions, Cumulative distribution function, Expectation, Mean and variance, the Binomial probability distribution, the Poisson probability distribution ,Poisson distribution as  a limit of the binomial distribution ,Joint pmf of two discrete random variables ,Marginal pmf, Independent random variables ,Expected value of  a function of two discrete variables.",
    "theory-of-computation": "Motivation for studying computability, need for mathematical modeling automata, Introducing automata through simple models-On/Off switch, coffee vending machine. Three basic concepts: Alphabet, Strings, and Languages. Formal definition of a finite automaton, Deterministic Finite Automata(DFA),Regular languages, Nondeterminism(guess and verify paradigm),Formal definition of a non deterministic finite automaton, NFA with epsilon transitions ,Eliminating epsilon transitions(Proof not expected),Equivalence of NFAs and DFAs (Proof not expected)-The Subset Construction .DFA State Minimization ,Applications of finite automata- text search ,keyword recognition.",
    "data-structures": "Definitions; Data Abstraction; Performance Analysis- Time & Space Complexity, Asymptotic Notations; Polynomial representation using Arrays, Sparse matrix(Tuple representation);Stacks and Queues-Stacks ,Multi-Stacks ,Queues ,Circular Queues, Double Ended Queues ;Evaluation of Expressions Infix to Postfix, Evaluating Postfix Expressions.",
    "object-oriented-programming": "Structure of a simple java program; Java programming Environment and Runtime Environment(Command Line & IDE);Java compiler; Java Virtual Machine; Primitive Data types and Wrapper Types; Casting and Autoboxing; Arrays; Strings; Vector class; Operators-Arithmetic, Bitwise ,Relational, Boolean Logical, Assignment, Conditional(Ternary);Operator Precedence; Control Statements-Selection Statements, Iteration Statements and Jump Statements; Functions; Command Line Arguments; Variable Length Arguments; Classes; Abstract Classes; Interfaces. [Use proper naming conventions] OOP Concepts: Data abstraction, encapsulation, inheritance, polymorphism, Procedural and object oriented programming paradigm; Microservices. Object Oriented Programming  in Java:Declaring Objects; Object Reference; Introduction to Methods ;Constructors; Access Modifiers; *this* keyword."
  };

  let chart;

  function loadTopics() {
    const subject = document.getElementById("subject").value;
    
    // Load syllabus data from JSON structure
    const syllabusData = {
      "mathematics": [
        "Random variables, Discrete random variables and their probability distributions, Cumulative distribution function, Expectation, Mean and variance, the Binomial probability distribution, the Poisson probability distribution ,Poisson distribution as  a limit of the binomial distribution ,Joint pmf of two discrete random variables ,Marginal pmf, Independent random variables ,Expected value of  a function of two discrete variables.",
        "Continuous random variables and their probability distributions ,Cumulative distribution function ,Expectation ,Mean and variance ,Uniform ,Normal and Exponential distributions, Joint pdf of two Continuous random variables ,Marginal pdf ,Independent random variables ,Expectation value of a function of two continuous variables.",
        "Limit theorems :Markov's Inequality ,Chebyshev's Inequality ,Strong Law of Large Numbers(Without proof),Central Limit Theorem(without proof), Stochastic Processes: Discrete-time process, Continuous-time process ,Counting Processes, The Poisson Process, Interarrival times (Theorems without proof).",
        "Markov Chains, Random Walk Model ,Chapman‚ÄìKolmogorov Equations ,Classification of States, Irreducible Markovchain ,Recurrent state ,Transient state ,Long-Run Proportions.(Theorems without proof)."
      ],
      "theory-of-computation": [
        "Motivation for studying computability, need for mathematical modeling automata, Introducing automata through simple models-On/Off switch, coffee vending machine. Three basic concepts: Alphabet, Strings, and Languages. Formal definition of a finite automaton, Deterministic Finite Automata(DFA),Regular languages, Nondeterminism(guess and verify paradigm),Formal definition of a non deterministic finite automaton, NFA with epsilon transitions ,Eliminating epsilon transitions(Proof not expected),Equivalence of NFAs and DFAs (Proof not expected)-The Subset Construction .DFA State Minimization ,Applications of finite automata- text search ,keyword recognition.",
        "The formal definition of a regular expression, Building Regular Expressions, Equivalence with finite automata (Proof not expected) Converting FA to Regular Expressions ,Converting Regular Expressions to FA, Pattern Matching and Regular Expressions, Regular grammar, Equivalence with FA-Conversion in both direction .Closure and Decision Properties of Regular Languages(with proofs),The Pumping Lemma for Regular Languages (with formal proof), Pumping lemma as a tool to prove non regularity of languages, Formal definition of a context-free grammar, Designing context-free grammars, Left most and Right most Derivations Using a Grammar, Parse Trees ,Ambiguous Grammars, Resolving ambiguity, Inherent ambiguity CFGs ,and programming languages.",
        "Formal definition of a pushdown automaton ,DPDA and NPDA, Examples of pushdown automata Equivalence NPDAs and CFGs(Proof not expected)- conversions in both directions Elimination of useless symbols and productions, Eliminating epsilon productions, Eliminating unit productions, Chomsky normal form ,Greibach normal form, The Pumping Lemma for Context-Free Languages (with formal proof), Closure and Decision Properties of Context-Free Languages (with formal proofs).",
        "The formal definition of a Turing machine ,Examples of Turing machines-Turing machines as language acceptors, Turing machines as computers of functions ,Variants of Turing Machines(Proofs for equivalence with basic model not expected),Recursive and recursively enumerable languages Chomskian hierarchy,Linear bounded automaton as a restricted TM. Church Turing thesis, Encoding of TMs, Universal Machine and Diagonalization,Reductions,Decidable and Undecidable Problems ,Halting problem, Post Correspondence Problem and the proofs for their undecidability."
      ],
      "data-structures": [
        "Definitions; Data Abstraction; Performance Analysis- Time & Space Complexity, Asymptotic Notations; Polynomial representation using Arrays, Sparse matrix(Tuple representation);Stacks and Queues-Stacks ,Multi-Stacks ,Queues ,Circular Queues, Double Ended Queues ;Evaluation of Expressions Infix to Postfix, Evaluating Postfix Expressions.",
        "Singly Linked List-Operations on Linked List ,Stacks and Queues using Linked List ,Polynomial representation using Linked List ;Doubly Linked List; Circular Linked List ;Memory allocation- First-fit, Best-fit, and Worst-fit allocation schemes ;Garbage collection and compaction",
        "Trees :-Representation Of Trees; Binary Trees- Types and Properties, Binary Tree Representation ,Tree Operations ,Tree Traversals ;Expression Trees ;Binary Search Trees-Binary Search Tree Operations ;Binary Heaps-Binary Heap Operations ,Priority Queue. Graphs :-Definitions ;Representation of Graphs ;Depth First Search and Breadth First Search; Applications of Graphs- Single Source All Destination.",
        "Sorting Techniques :- Selection Sort, Insertion Sort ,Quick Sort, Merge Sort ,Heap Sort ,Radix Sort.Searching Techniques :-Linear Search ,Binary Search ,Hashing-Hashing functions : Mid square, Division, Folding, Digit Analysis; Collision Resolution : Linear probing ,Quadratic Probing ,Double hashing ,Open hashing."
      ],
      "object-oriented-programming": [
        "Structure of a simple java program; Java programming Environment and Runtime Environment(Command Line & IDE);Java compiler; Java Virtual Machine; Primitive Data types and Wrapper Types; Casting and Autoboxing; Arrays; Strings; Vector class; Operators-Arithmetic, Bitwise ,Relational, Boolean Logical, Assignment, Conditional(Ternary);Operator Precedence; Control Statements-Selection Statements, Iteration Statements and Jump Statements; Functions; Command Line Arguments; Variable Length Arguments; Classes; Abstract Classes; Interfaces. [Use proper naming conventions] OOP Concepts: Data abstraction, encapsulation, inheritance, polymorphism, Procedural and object oriented programming paradigm; Microservices. Object Oriented Programming  in Java:Declaring Objects; Object Reference; Introduction to Methods ;Constructors; Access Modifiers; *this* keyword.",
        "Polymorphism:Method Overloading, Using Objects as Parameters, Returning Objects, Recursion. Static Members ,Final Variables, Inner Classes, Inheritance-Super Class, Sub Class, Types of Inheritance, The super keyword, protected Members ,Calling Order of Constructors, Method Overriding, Dynamic Method Dispatch, Using final with Inheritance.",
        "Packages-Defining a Package, CLASS PATH, Access Protection, Importing Packages. Interfaces-Interfaces v/s Abstract classes, defining an interface, implementing interfaces, accessing implementations through interface references, extending interface(s). Exception Handling- Checked Exceptions, Unchecked Exceptions, *try* Block and *catch* Clause ,Multiple catch Clauses, Nested try Statements ,throw, throws and finally, Java Built- in Exceptions, Custom Exceptions.Introduction to design patterns in Java :Singleton and Adaptor.",
        "SOLID Principles in Java(https://www.javatpoint.com/solid-principles java)Swings fundamentals‚ÄìOverview of AWT ,Swing v/s AWT ,Swing Key Features ,Model View Controller(MVC),Swing Controls, Components and Containers, Swing Packages, Event Handling in Swings, Swing Layout Managers, Exploring Swings‚ÄìJ Frame, J Label, The Swing Buttons, J Text Field. Event handling ‚ÄìEvent Handling Mechanisms, Delegation Event Model, Event Classes, Sources of Events, Event Listener Interfaces, Using the Delegation Event Model. Developing Data base Applications using JDBC‚ÄìJDBC overview, Types Steps, Common JDBC Components, Connection Establishment, SQL Fundamentals [For projects only]- Creating and Executing basic SQL Queries, Working with Result Set, Performing CRUD Operations with JDBC."
      ]
    };
    
    const topics = syllabusData[subject];
    const topicList = document.getElementById("topicList");
    topicList.innerHTML = "";

    // Load or initialize global progress
    let globalProgress = JSON.parse(localStorage.getItem("globalProgress")) || {};
    if (!globalProgress[subject]) {
      globalProgress[subject] = Array(topics.length).fill(false);
    }

    topics.forEach((topic, index) => {
      const div = document.createElement("div");
      div.className = "topic";

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = globalProgress[subject][index];
      checkbox.onchange = () => {
        globalProgress[subject][index] = checkbox.checked;
        localStorage.setItem("globalProgress", JSON.stringify(globalProgress));
        updateChart(globalProgress[subject]);
      };

      const label = document.createElement("label");
      label.innerHTML = `<strong>Module ${index + 1}:</strong><br>${topic}`;
      label.style.lineHeight = "1.5";
      label.style.fontSize = "14px";
      label.style.color = "#333";

      div.appendChild(checkbox);
      div.appendChild(label);
      topicList.appendChild(div);
    });

    updateChart(globalProgress[subject]);
  }

  function resetProgress() {
    const subject = document.getElementById("subject").value;
    const syllabusData = {
      "mathematics": [
        "Random variables, Discrete random variables and their probability distributions, Cumulative distribution function, Expectation, Mean and variance, the Binomial probability distribution, the Poisson probability distribution ,Poisson distribution as  a limit of the binomial distribution ,Joint pmf of two discrete random variables ,Marginal pmf, Independent random variables ,Expected value of  a function of two discrete variables.",
        "Continuous random variables and their probability distributions ,Cumulative distribution function ,Expectation ,Mean and variance ,Uniform ,Normal and Exponential distributions, Joint pdf of two Continuous random variables ,Marginal pdf ,Independent random variables ,Expectation value of a function of two continuous variables.",
        "Limit theorems :Markov's Inequality ,Chebyshev's Inequality ,Strong Law of Large Numbers(Without proof),Central Limit Theorem(without proof), Stochastic Processes: Discrete-time process, Continuous-time process ,Counting Processes, The Poisson Process, Interarrival times (Theorems without proof).",
        "Markov Chains, Random Walk Model ,Chapman‚ÄìKolmogorov Equations ,Classification of States, Irreducible Markovchain ,Recurrent state ,Transient state ,Long-Run Proportions.(Theorems without proof)."
      ],
      "theory-of-computation": [
        "Motivation for studying computability, need for mathematical modeling automata, Introducing automata through simple models-On/Off switch, coffee vending machine. Three basic concepts: Alphabet, Strings, and Languages. Formal definition of a finite automaton, Deterministic Finite Automata(DFA),Regular languages, Nondeterminism(guess and verify paradigm),Formal definition of a non deterministic finite automaton, NFA with epsilon transitions ,Eliminating epsilon transitions(Proof not expected),Equivalence of NFAs and DFAs (Proof not expected)-The Subset Construction .DFA State Minimization ,Applications of finite automata- text search ,keyword recognition.",
        "The formal definition of a regular expression, Building Regular Expressions, Equivalence with finite automata (Proof not expected) Converting FA to Regular Expressions ,Converting Regular Expressions to FA, Pattern Matching and Regular Expressions, Regular grammar, Equivalence with FA-Conversion in both direction .Closure and Decision Properties of Regular Languages(with proofs),The Pumping Lemma for Regular Languages (with formal proof), Pumping lemma as a tool to prove non regularity of languages, Formal definition of a context-free grammar, Designing context-free grammars, Left most and Right most Derivations Using a Grammar, Parse Trees ,Ambiguous Grammars, Resolving ambiguity, Inherent ambiguity CFGs ,and programming languages.",
        "Formal definition of a pushdown automaton ,DPDA and NPDA, Examples of pushdown automata Equivalence NPDAs and CFGs(Proof not expected)- conversions in both directions Elimination of useless symbols and productions, Eliminating epsilon productions, Eliminating unit productions, Chomsky normal form ,Greibach normal form, The Pumping Lemma for Context-Free Languages (with formal proof), Closure and Decision Properties of Context-Free Languages (with formal proofs).",
        "The formal definition of a Turing machine ,Examples of Turing machines-Turing machines as language acceptors, Turing machines as computers of functions ,Variants of Turing Machines(Proofs for equivalence with basic model not expected),Recursive and recursively enumerable languages Chomskian hierarchy,Linear bounded automaton as a restricted TM. Church Turing thesis, Encoding of TMs, Universal Machine and Diagonalization,Reductions,Decidable and Undecidable Problems ,Halting problem, Post Correspondence Problem and the proofs for their undecidability."
      ],
      "data-structures": [
        "Definitions; Data Abstraction; Performance Analysis- Time & Space Complexity, Asymptotic Notations; Polynomial representation using Arrays, Sparse matrix(Tuple representation);Stacks and Queues-Stacks ,Multi-Stacks ,Queues ,Circular Queues, Double Ended Queues ;Evaluation of Expressions Infix to Postfix, Evaluating Postfix Expressions.",
        "Singly Linked List-Operations on Linked List ,Stacks and Queues using Linked List ,Polynomial representation using Linked List ;Doubly Linked List; Circular Linked List ;Memory allocation- First-fit, Best-fit, and Worst-fit allocation schemes ;Garbage collection and compaction",
        "Trees :-Representation Of Trees; Binary Trees- Types and Properties, Binary Tree Representation ,Tree Operations ,Tree Traversals ;Expression Trees ;Binary Search Trees-Binary Search Tree Operations ;Binary Heaps-Binary Heap Operations ,Priority Queue. Graphs :-Definitions ;Representation of Graphs ;Depth First Search and Breadth First Search; Applications of Graphs- Single Source All Destination.",
        "Sorting Techniques :- Selection Sort, Insertion Sort ,Quick Sort, Merge Sort ,Heap Sort ,Radix Sort.Searching Techniques :-Linear Search ,Binary Search ,Hashing-Hashing functions : Mid square, Division, Folding, Digit Analysis; Collision Resolution : Linear probing ,Quadratic Probing ,Double hashing ,Open hashing."
      ],
      "object-oriented-programming": [
        "Structure of a simple java program; Java programming Environment and Runtime Environment(Command Line & IDE);Java compiler; Java Virtual Machine; Primitive Data types and Wrapper Types; Casting and Autoboxing; Arrays; Strings; Vector class; Operators-Arithmetic, Bitwise ,Relational, Boolean Logical, Assignment, Conditional(Ternary);Operator Precedence; Control Statements-Selection Statements, Iteration Statements and Jump Statements; Functions; Command Line Arguments; Variable Length Arguments; Classes; Abstract Classes; Interfaces. [Use proper naming conventions] OOP Concepts: Data abstraction, encapsulation, inheritance, polymorphism, Procedural and object oriented programming paradigm; Microservices. Object Oriented Programming  in Java:Declaring Objects; Object Reference; Introduction to Methods ;Constructors; Access Modifiers; *this* keyword.",
        "Polymorphism:Method Overloading, Using Objects as Parameters, Returning Objects, Recursion. Static Members ,Final Variables, Inner Classes, Inheritance-Super Class, Sub Class, Types of Inheritance, The super keyword, protected Members ,Calling Order of Constructors, Method Overriding, Dynamic Method Dispatch, Using final with Inheritance.",
        "Packages-Defining a Package, CLASS PATH, Access Protection, Importing Packages. Interfaces-Interfaces v/s Abstract classes, defining an interface, implementing interfaces, accessing implementations through interface references, extending interface(s). Exception Handling- Checked Exceptions, Unchecked Exceptions, *try* Block and *catch* Clause ,Multiple catch Clauses, Nested try Statements ,throw, throws and finally, Java Built- in Exceptions, Custom Exceptions.Introduction to design patterns in Java :Singleton and Adaptor.",
        "SOLID Principles in Java(https://www.javatpoint.com/solid-principles java)Swings fundamentals‚ÄìOverview of AWT ,Swing v/s AWT ,Swing Key Features ,Model View Controller(MVC),Swing Controls, Components and Containers, Swing Packages, Event Handling in Swings, Swing Layout Managers, Exploring Swings‚ÄìJ Frame, J Label, The Swing Buttons, J Text Field. Event handling ‚ÄìEvent Handling Mechanisms, Delegation Event Model, Event Classes, Sources of Events, Event Listener Interfaces, Using the Delegation Event Model. Developing Data base Applications using JDBC‚ÄìJDBC overview, Types Steps, Common JDBC Components, Connection Establishment, SQL Fundamentals [For projects only]- Creating and Executing basic SQL Queries, Working with Result Set, Performing CRUD Operations with JDBC."
      ]
    };
    let globalProgress = JSON.parse(localStorage.getItem("globalProgress")) || {};
    globalProgress[subject] = Array(syllabusData[subject].length).fill(false);
    localStorage.setItem("globalProgress", JSON.stringify(globalProgress));
    loadTopics();
  }

  function updateChart(progressArray) {
    const completed = progressArray.filter(Boolean).length;
    const remaining = progressArray.length - completed;

    const data = {
      labels: ["Completed", "Remaining"],
      datasets: [{
        data: [completed, remaining],
        backgroundColor: ["#28a745", "#cccccc"],
        borderWidth: 1
      }]
    };

    if (chart) {
      chart.data = data;
      chart.update();
    } else {
      const ctx = document.getElementById("progressChart").getContext("2d");
      chart = new Chart(ctx, {
        type: "pie",
        data: data,
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: "bottom"
            }
          }
        }
      });
    }
  }

  function saveProgress() {
    alert("Progress saved successfully!");
  }

  function logout() {
    localStorage.removeItem("userRole");
    window.location.href = "index.html";
  }

  // Protect route
  if (localStorage.getItem("userRole") !== "teacher") {
    window.location.href = "index.html";
  }

  // Init
  window.onload = loadTopics;
</script>

</body>
</html>
